# AWS認定資格テキスト AWS認定クラウドプラクティショナー
* https://www.amazon.co.jp/dp/4797397403/ref=cm_sw_em_r_mt_dp_U_NGakEb305PQ0C の学習ノート
* ISBN-10 4797397403 

## 第1章 AWS認定資格
### AWS認定資格とは？
* ベーシック：全体的な理解
  * クラウドプラクティショナー
* アソシエイト：技術的役割認定
  * ソリューションアーキテクト-アソシエイト等
* プロフェッショナル：最高レベルの技術的役割認定
  * ソリューションアーキテクト-プロフェッショナル等
* 専門知識認定資格：特定の技術分野での高度スキル
  * Machine Learning等

### 出題範囲/合格ライン
1. クラウドの概念：26%
2. セキュリティ：25%
3. テクノロジー：33%
4. 請求と料金：16%

* 試験時間：90分
* 合格ライン：700/1000点

## 第2章 AWSクラウドの概念
* ここの範囲で26%の分量
* クラウドの特長、オンプレとの比較等を把握

### AWSクラウドコンピューティングの6つのメリット
1. Trade capital expense for variable expense
    * 固定費(設備投資費)から柔軟な変動費へ
2. Benefit from massive economies of scale
    * 圧倒的なスケールメリット
    * AWSにサービスを集約することでコスト抑制可能に
3. Stop guessing capacity
    * キャパシティ予測不要に
    * 需要に応じてキャパシティを追加/削減可能に
4. Increase speed and agility
    * 速度と俊敏性の向上
    * 実験やイノベーションにかける時間を増やせる
5. Stop spending money running and maintaining data centers
    * データセンターやその運用保守への投資不要
6. Go global in minutes
    * わずか数分で世界中にデプロイ

* 詳細は https://docs.aws.amazon.com/whitepapers/latest/aws-overview/six-advantages-of-cloud-computing.html
* ひとことで言うと、システムの弾力性が大幅に向上

### クラウドアーキテクチャの設計原理
* Design for Failure (故障に備えた設計)
  * 単一障害点(Single Point of Failure=SPOF)を無くす
  * 1つのDCのみで運用しない、単一のインスタンスのみで構成しない
  * マネージドなサービスを利用しよう
* コンポーネントの分離
  * サービス指向アーキテクチャ。疎結合→スケーリングが大規模に
  * 各コンポーネントは他のコンポーネントは非同期に相互作用
    * 例えばAPサーバとDBはそれぞれブラックボックスとして振る舞う
  * バッチ処理はSQSでキューイングチェーン
  * マイクロサービスアーキテクチャ：システムを小規模サービスに分離しAPIで連携
* 弾力性(伸縮性, Elastic)の実装
  * 柔軟なスケールイン/スケールアウト
    * 巡回スケーリング：一定期間に発生する定期的なスケーリング
    * イベントベーススケーリング：予定されているビジネスイベントに従ったスケーリング
    * オンデマンドの自動スケーリング：負荷をモニタリングし状況に応じてスケーリング
  * サーバ(インスタンス)は使い捨て可能なリソース
* 並列性を考慮
  * ロードバランサ、スケールアウトの考慮
* 動的コンテンツ/静的コンテンツの配置
  * 動的コンテンツ(常時変動するデータ)はコンピューティングインスタンスの近くに
  * 静的コンテンツ(固定データ)はCDN等を利用してエンドユーザーの近くに

### AWS Well-Architectedフレームワーク
* https://aws.amazon.com/jp/architecture/well-architected/
* Well-Architectedフレームワークは、アーキテクト・開発者・ユーザーが、アプリケーションのために安全で高パフォーマンスで耐障害性に優れた効率的なインフラストラクチャを構築できるように設計されている
* フレームワークの5本柱
  1. 運用上の優秀性 (Operation Excellence) ：ビジネス価値実現のための継続的な改善プロセス構築 (ex.デプロイパイプライン)
  2. セキュリティ (Security) ：ビジネス価値を提供しながら、情報・システム・資産を保護する能力 (ex.データの整合性・暗号化)
  3. 信頼性 (Reliability) ：システムの自動障害復旧、高可用性の実現
  4. パフォーマンス効率 (Performance Efficiency) ：システム要件を満たす効率的なコンピューティングリソース配分・維持 (ex.サーバレスアーキテクチャ、グローバルなデプロイ)
  5. コスト最適化 (Cost Optimization) ：最も安価にシステムを実行してビジネス価値を実現 (ex.マネージドサービス適用によるコスト効率化)
* 自分自身で確認するAWS Well-Architected Toolもある
  * 潜在的な問題をチェックしベストプラクティスの提案・計画を立ててくれる

## 第3章 AWSのセキュリティ
### 3-1 責任共有モデル
ユーザーとAWSの責任分界点
* ユーザー：クラウド内のセキュリティ
* AWS：クラウド本体のセキュリティ

### 3-2 AWSクラウドのセキュリティ
AWSセキュリティの4つの利点
1. データの保護
2. コンプライアンス要件に準拠
3. コスト削減：ユーザーの独自設定なく最上位のセキュリティを維持
4. 迅速なスケーリング

#### 責任範囲の考え方
* 物理的なセキュリティ： **AWSの責任範囲**
  1. 環境レイヤー：自然災害等の環境リスクの軽減
  2. 物理的な境界防御レイヤー：DCに保安要員、防御壁、監視カメラ等の物理設備の設置
  3. インフラレイヤー：発電設備、冷暖房設備、消化設備等の設置
  4. データレイヤー：アクセス制限、脅威検出
* ハイパーバイザーのセキュリティ： **AWSのセキュリティの責任範囲**
  * VMエスケープやVMホッピング等のハイパーバイザーをターゲットにした攻撃はAWSが担当
  * 準仮想化(PV)インスタンスについても、最新のAMIや更新パッケージを提供
* 管理プレーン： **ユーザーの責任範囲**
  * 具体的には
    * IDとパスワード
    * キーペア
    * APIキーの管理
    * アクセス制御と権限管理
  * 各種リソースへの権限はAPIキーではなくIAMロールの割り当てを推奨
* アンマネージドサービスのセキュリティ： **ユーザーの責任範囲**
  * IaaS (VPC,EC2,Lambda) 等はユーザーが必要なセキュリティ設定と管理タスクを実施
  * そこに配置するデータやコンテンツの管理もユーザーの責任
* フルマネージドサービスのセキュリティ： **AWSの責任範囲**
  * PaSSやSaaSに該当するサービスのセキュリティ対応
  * 要はユーザー側から触れない部分はAWSが実施

#### セキュリティのベストプラクティス
1. 転送中のデータの保護
    * 適切なプロトコル/暗号化アルゴリズムの選択
2. 蓄積データの保護
    * DB登録時のアプリケーション上でのデータ暗号化
3. AWS資格情報の保護
4. アプリケーションの安全性の確保
    * OSコマンドインジェクション、SQLインジェクション、XSS等の対策

#### 第三者認証
* AWSの物理レイヤーは監査機関による検査を受けており、**AWS Artifact**でデータを提供
* CSA, ISO各種企画, PIC DSSレベル1, SOC1..3
* 国内ビジネスで必要な認証: FinTech, FISC, NISC等

### 3-3 IAM
* IAM: AWS Identity and Access Management
* 各種キーワードを抑える
  * ルートアカウント
  * IAMユーザー
  * IAMグループ
  * APIキー (アクセスキー,シークレットアクセスキー)

#### IAMロール
* EC2, Lambda等の権限付与のためのAPIキーの利用は非推奨。代わりにIAMロールを利用
* AWS Directory ServiceでIAMロールを使用することで、SSO (Single Sign On) 構成にすることも可能

### 3-4 セキュリティグループ
* 許可ルールの指定が可能
* 拒否ルールの指定は不可
* インバンウド/アウトバウンドトラフィックのルールを個別指定

### 3-5 AWS ShieldとAWS WAF
* AWS Shield
  * マネージド型のDDoS攻撃に対する保護サービス
  * DDoS: Distributed Denial of Service attack
  * AWS Shield Standard (無償) と Advanced (有償) がある
  * Advancedを選択するとWAFサービスが無制限に利用、DDoS Response Teamの24,365サポート (フォレンジック・分析)
* AWS WAF
  * WAF: Web Application Firewall
  * WAFの定義はユーザー自身で行う必要があるが、SQLインジェクションはXSSのような一般的な攻撃をグロックするカスタルール、特定のアプリケーションのために設計されるルールを作成可能
  * Webセキュリティルールに基づき課金
  * WAFの適用範囲
    * CloudFront: CDNサービス
    * Application Load Balancer
    * API Gateway

### 3-6 Inspector
* EC2上にデプロイされたアプリケーションのセキュリティとコンプライアンスを向上させるための脆弱性診断を自動で行うサービス
* PCI DSSのようなルールパッケージを利用してスケジュール設定により自動でチェック
* 生成されたコンプライアンスレポートをAWS Artifactから取得可能

#### AWS Key Management Service (KMS)
* AWS上で暗号化キーをかんたんに作成・管理、幅広いAWSサービスやアプリケーションでの使用を制御可能
* CloudTrailと統合されており、すべてのキーの使用ログを表示可能
