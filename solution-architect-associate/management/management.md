# マネジメント/ガバナンス

---
## Auto Scaling
* システムの利用状況（設定した閾値やヘルスチェックの結果）によって、インスタンスの台数を自動的に増減させるサービス
* ただし、閾値を超えたにも関わらずスケーリングが上手く実行されずに24h以上経過した場合、自動的にAuto Scalingが停止するようになっている
  > 詳細は https://docs.aws.amazon.com/ja_jp/autoscaling/ec2/userguide/as-suspend-resume-processes.html

### スケーリングポリシー
https://docs.aws.amazon.com/ja_jp/autoscaling/ec2/userguide/scaling_plan.html

| ポリシー | | 内容 |
| --- | --- | --- |
| 動的スケーリング | 簡易スケーリング | １つのメトリクスに対して１つの閾値を設定。現在は非推奨 |
| | ステップスケーリング | １つのメトリクスに対して１つ以のの閾値を設定し、段階ごとのスケーリング設定が可能。簡易スケーリングの上位互換 |
| | ターゲット追跡スケーリング | １つのメトリクスに対して目標値を設定し、Auto Scalingグループがその目標値を維持するように自動的に調整。今後の主流になると思われる |
| 手動スケーリング | | 希望する容量を手動で調整。いつでも実施可能 |
| 予測スケーリング | | 機械学習を使用して CloudWatch からの履歴データに基づいてキャパシティー要件を予測 |
| スケジュールスケーリング | | 予想可能なロードの変化に応じて独自のスケーリングスケジュールを設定 |

---
## Elastic Beanstalk
* ウェブアプリケーションの構成管理サービス
* 構築できる構成は大きくは以下の2つ
  1. Webサーバ構成： ELB+Auto Scaling+EC2
  2. Batchワーカー構成： SQS+Auto Scaling+EC2

---
## OpsWorks
* Chefを利用したインフラ構成管理サービス
* スタック・レイヤーの概念が存在
  - スタック： OpsWorksのトップエンティティ。スタック単位こ構成情報をJSON形式で保持する。スタックの下に複数のレイヤーを定義できる
  - レイヤー： スタックのコンポーネントを定義。レイヤーに対してChefのレシピをマッピングすることで詳細な設定が可能

---
## CloudFormation
* AWSリソースを自動構築するためのサービス
